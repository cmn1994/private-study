<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<h1>哈哈哈哈</h1>
	<script>

		// var promiseObj = new Promise(function(resolve,reject) {
		// 	console.log('enter promise');
		// 	var flag = null;
		// 	setTimeout(function(){
		// 		console.log('5秒过去了');
		// 		flag = true;
		// 	},5000)

		// 	if(flag) {
		// 		resolve();
		// 	}else {
		// 		reject();
		// 	}
		// });

		// promiseObj.then(function(){
		// 	console.log('--resolve');
		// },function(){
		// 	console.log('--reject');
		// });

		// for (var i=1; i<=5; i++) { 
		//     setTimeout( function timer() {
		//         console.log(i);
		//     }, i*10 );
		// }

		// for (var i=1; i<=5; i++) { 
		// 	// 访问上级变量
		// 	// (function(e) {
		// 	// 	setTimeout( function timer() {
		// 	//         console.log(e);
		// 	//     }, e*10 );	
		// 	// })(i);

		// 	// setTimeout( function timer(i) {
		// 	// 	console.log(i);
		// 	// }, i*1000,i );

		// 	setTimeout( function timer(i) {
		// 		console.log(i);
		// 	}.bind(null,i), i*1000 );
		// }

		// for (let i=1; i<=5; i++) { 
		// 	setTimeout( function timer() {
		// 		console.log(i);
		// 	}, i*1000 );
		// }

	

		// 	setTimeout( (function(i){
		// 		return  function (){
		// 			console.log(i);
		// 		}
		// 	})(i),i * 10);
		// }

		// var timer = setTimeout(function() {
		//     console.log('setTimeout actions.');
		// }, 0);

		// console.log('other actions.');


		// setTimeout(function() {
		//     console.log(a);
		// }, 0);

		// var a = 10;

		// console.log(b);
		// console.log(fn);

		// var b = 20;

		// function fn() {
		//     setTimeout(function() {
		//         console.log('setTImeout 10ms.');
		//     }, 10);
		// }

		// fn.toString = function() {
		//     return 30;
		// }

		// console.log(fn);

		// setTimeout(function() {
		//     console.log('setTimeout 20ms.');
		// }, 20);

		// fn();

		
		// var a = 20;
		// function fn() {
		// 	'use strict';
		//     console.log(this.a);
		// }
		// fn();     //20


		// 为了能够准确判断，我们在函数内部使用严格模式，因为非严格模式会自动指向全局
		// function fn() {
		//     'use strict';
		//     console.log(this);
		// }

		// fn();  // fn是调用者，独立调用
		// window.fn();  // fn是调用者，被window所拥有

		// var fn;
		// function foo() {
		//     var a = 2;
		//     function baz() { 
		//         console.log( a );
		//     }
		//     fn = baz; 
		// }
		// function bar() {
		//     fn(); 
		// }

		// foo();
		// bar(); // 2
		// var a = { 
		// 	m: 10, 
		// 	n: 20 
		// }
		// function fn(a) {
		// 	a = {};
		//     a.m = 20;
		//     // return a;
		// }

		// fn(a);
		// console.log(a);   // { m: 20, n: 20 }


		// // 自执行创建模块
		// var person = {
		//     name: 'Nicholas',
		//     age: 20
		// }

		// function setName(obj) {  // 传入一个引用
		//     obj = {};   // 将传入的引用指向另外的值
		//     obj.name = 'Greg';  // 修改引用的name属性
		// }

		// setName(person);
		// console.log(person.name);  // Nicholas 未被改变

//----------------------------------------------------------------------
	// 	function add() {
	//     // 第一次执行时，定义一个数组专门用来存储所有的参数
	//     var _args = [].slice.call(arguments);

	//     // 在内部声明一个函数，利用闭包的特性保存_args并收集所有的参数值
	//     var adder = function () {
	//         var _adder = function() {
	//             [].push.apply(_args, [].slice.call(arguments));
	//             return _adder;
	//         };

	//         // 利用隐式转换的特性，当最后执行时隐式转换，并计算最终的值返回
	//         _adder.toString = function () {
	//             return _args.reduce(function (a, b) {
	//                 return a + b;
	//             });
	//         }

	//         return _adder;
	//     }
	//     return adder.apply(null, [].slice.call(arguments));
	// }

	// // 输出结果，可自由组合的参数
	// console.log(add(1, 2, 3, 4, 5));  // 15
	// console.log(add(1, 2, 3, 4)(5));  // 15
	// console.log(add(1)(2)(3)(4)(5));  // 15
//----------------------------------------------------------------------
// var result;
// function foo() {
// 	 result = new Array();

// 	for (var i = 0; i < 10; i++) {
// 		// result[i] = function(num){
// 		// 	return function(){
// 		// 		return i;
// 		// 	}
// 		// }(i);
// 		result[i] = function(num){
// 			return function(){
// 				return num;
// 			}
// 		}(i)
		

// 	}
// 	return result;
// }

// foo();
// console.log(result[0]());
// console.log(result[1]());
// console.log(result[2]());

var name = 'window';

var obj = {
	name: 'haha',
	getName: function(){
		return this.name;
	}
}


console.log(obj.getName = function(){
	console.log('566');
});


	</script>
</body>
</html>